---
openapi: 3.0.3
info:
  title: position-keeping-application API
  version: 1.1.0-13
tags:
- name: Position Management
paths:
  /PositionKeeping/V1/Agreement/{agreementId}/Positions/Request:
    get:
      tags:
      - Position Management
      summary: get Position Details
      description: "The API is used to retrieve the positions for an account. Position\
        \ Type and Position Component work as optional filters. When the filters are\
        \ provided in the input, the results are filtered matching the criteria."
      operationId: retrievePositions
      parameters:
      - name: agreementId
        in: path
        required: true
        schema:
          type: string
      - name: period
        in: query
        schema:
          type: string
      - name: positionComponent
        in: query
        schema:
          type: string
      - name: positionType
        in: query
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RequestPositionsResponse"
        "401":
          description: Not Authorized
          content: {}
        "403":
          description: Forbidden
          content: {}
        "413":
          description: Payload Too large
          content: {}
        "415":
          description: Unsupported Media Type
          content: {}
        "429":
          description: Too Many Request
          content: {}
        "500":
          description: "Internal Server Error <br/><br/> <b>Error codes list:</b><br/>"
          content: {}
        "502":
          description: Bad Gateway
          content: {}
        "503":
          description: Service Unavailable
          content: {}
        "504":
          description: Gateway Timeout
          content: {}
      x-proxy-name: Retrieve Positions
      x-group-name: Accounting
components:
  schemas:
    BalanceAmount:
      type: object
      properties:
        Amount:
          description: Amount.
          type: string
        Currency:
          description: Currency.
          type: string
    HelixErrorDetails:
      type: object
      properties:
        messages:
          type: array
          items:
            $ref: "#/components/schemas/HelixMessage"
    HelixMessage:
      type: object
      properties:
        errorCode:
          type: string
        type:
          type: string
        title:
          type: string
        detail:
          type: string
        instance:
          type: string
    PositionDto:
      type: object
      properties:
        PositionID:
          description: Unique Id to identify the Position.
          type: string
        Status:
          description: Status of the Position Record.
          type: string
        PositionType:
          description: "Valida values are \"Retail\", \"Cash\", \"Current\"."
          type: string
        PositionComponent:
          description: "Valid values are \"Principal\", \"Interest\", \"Fee\", \"\
            Balance\", \"Pending Balance\"."
          type: string
        BalanceAmount:
          description: Balance Amount of the Position.
          type: object
          allOf:
          - $ref: "#/components/schemas/BalanceAmount"
    RequestPositionsResponse:
      type: object
      properties:
        AgreementID:
          description: Agreement ID to which this Position belongs.
          type: string
        CurrentPositions:
          description: List of Positions
          type: array
          items:
            $ref: "#/components/schemas/PositionDto"
        PriorPositions:
          description: List of Positions
          type: array
          items:
            $ref: "#/components/schemas/PositionDto"
